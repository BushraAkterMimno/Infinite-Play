<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Temple Runner Lite ‚Äî Neon Edition</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: radial-gradient(circle at 30% 20%, #091a2a, #030712 70%);
      -webkit-font-smoothing:antialiased; 
      -moz-osx-font-smoothing:grayscale;
    }
    #runnerArea {
      background: linear-gradient(180deg, #0d1827 0%, #02060f 100%);
      border: 2px solid rgba(0, 255, 255, 0.08);
      box-shadow: 0 0 40px rgba(0, 255, 255, 0.06), inset 0 0 40px rgba(0, 40, 80, 0.18);
      animation: glowPulse 5s ease-in-out infinite;
      border-radius: 14px;
    }
    @keyframes glowPulse {
      0% { box-shadow: 0 0 20px rgba(0,255,255,0.06), inset 0 0 20px rgba(0,40,80,0.12); }
      50% { box-shadow: 0 0 36px rgba(0,255,255,0.16), inset 0 0 36px rgba(0,40,80,0.22); }
      100% { box-shadow: 0 0 20px rgba(0,255,255,0.06), inset 0 0 20px rgba(0,40,80,0.12); }
    }
    /* .player {
      background: linear-gradient(180deg, #ffe5d9, #ffd1b3);
      border: 2px solid rgba(255,255,255,0.12);
      box-shadow: 0 6px 24px rgba(255, 180, 110, 0.12);
      border-radius: 10px;
    } */
    .obstacle {
      background: linear-gradient(180deg, #2a2a40, #11111f);
      border: 2px solid rgba(255, 0, 0, 0.14);
      box-shadow: 0 6px 18px rgba(255, 30, 30, 0.12);
      border-radius: 8px;
      color: #fff;
    }
    .coin {
      background: radial-gradient(circle, #fff3a3, #facc15 80%);
      box-shadow: 0 0 12px rgba(255, 230, 90, 0.6);
      border: 2px solid rgba(255, 230, 120, 0.5);
      border-radius: 999px;
      color:#b45309;
    }
    .lane-glow {
      position:absolute; inset:0;
      background: repeating-linear-gradient(90deg,
        transparent 0%, transparent 32%, rgba(0,255,255,0.04) 34%, transparent 36%);
      pointer-events:none;
      mix-blend-mode:screen;
      animation: laneScroll 2.6s linear infinite;
    }
    @keyframes laneScroll { 0% { transform: translateY(0); } 100% { transform: translateY(40px); } }
    .btn { background: linear-gradient(90deg, #06b6d4, #3b82f6); color: #001; font-weight:700; padding:8px 14px; border-radius:10px; box-shadow:0 8px 24px rgba(59,130,246,0.12); }
    .btn:active { transform: translateY(1px); }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center p-6 text-white">
  <div class="w-full max-w-3xl">
    <header class="flex items-center justify-between mb-4">
      <h1 class="text-2xl font-extrabold tracking-wide text-cyan-300">Temple Runner Lite üèÉ</h1>
      <div class="flex items-center gap-4">
        <div class="text-right">
          <p class="text-xs uppercase tracking-wide text-slate-300">Score</p>
          <p id="score" class="text-xl font-bold text-cyan-400">0</p>
        </div>
        <button id="startBtn" class="btn">Start</button>
        <button id="resetBtn" class="btn">Reset</button>
      </div>
    </header>

    <main id="runnerArea" class="relative rounded-xl overflow-hidden" style="height:70vh;">
      <div class="lane-glow"></div>
      <div id="gameObjects" class="absolute inset-0 z-20 pointer-events-none"></div>
      <div id="player" class="player absolute" style="left:50%; bottom:12%; width:72px; height:92px; transform:translateX(-50%); display:flex; align-items:center; justify-content:center; font-size:40px;">üèÉ</div>
    </main>

    <footer class="mt-3 text-sm text-gray-400">Use ‚Üê ‚Üí or swipe to change lane. Avoid obstacles, collect coins.</footer>
  </div>

<script>
  // Complete working version ‚Äî fixed truncation
  const player = document.getElementById('player');
  const gameObjects = document.getElementById('gameObjects');
  const scoreEl = document.getElementById('score');
  const startBtn = document.getElementById('startBtn');
  const resetBtn = document.getElementById('resetBtn');

  const LANES = [20, 50, 80];
  let laneIndex = 1;
  let running = false;
  let objs = [];
  let speed = 1.2;
  let score = 0;
  let distance = 0;
  let lastTime = performance.now();
  let spawnTimer = null;

  function placePlayer(){ player.style.left = LANES[laneIndex] + '%'; }
  placePlayer();

  function spawnObject(){
    const type = Math.random() < 0.28 ? 'coin' : 'obstacle';
    const lane = Math.floor(Math.random()*3);

    const el = document.createElement('div');
    el.className = type === 'coin' ? 'coin' : 'obstacle';
    el.style.position = 'absolute';
    el.style.left = LANES[lane] + '%';
    el.style.transform = 'translateX(-50%) scale(0.6)';
    el.style.bottom = '-12%';
    el.style.zIndex = 40;
    el.textContent = type === 'coin' ? '‚≠ê' : '‚ö†Ô∏è';

    gameObjects.appendChild(el);
    objs.push({type, lane, el, z: -100, speed: 1.1 + Math.random()*0.7});
  }

  function update(dt){
    for (let i = objs.length-1; i >= 0; i--) {
      const o = objs[i];
      o.z += o.speed * dt * 0.06 * speed;

      const scale = 0.55 + Math.min(1.1, o.z/100);
      const bottom = (o.z/1.4) + 10;

      o.el.style.transform = `translateX(-50%) scale(${scale})`;
      o.el.style.bottom = bottom + '%';

      // collision region approx when z ~ 150
      if (o.z > 140 && o.z < 180 && o.lane === laneIndex) {
        if (o.type === 'obstacle') {
          endGame();
          return;
        } else if (o.type === 'coin') {
          score += 80;
          scoreEl.textContent = score;
          o.el.style.transition = 'transform 260ms ease, opacity 260ms ease';
          o.el.style.transform += ' translateY(-22px)';
          o.el.style.opacity = '0';
          setTimeout(()=>{ try{ o.el.remove(); }catch{} }, 260);
          objs.splice(i,1);
          continue;
        }
      }

      if (o.z > 320) { try{ o.el.remove(); }catch{}; objs.splice(i,1); }
    }

    distance += dt * 0.02 * speed;
    score += Math.floor(dt * 0.006 * speed);
    scoreEl.textContent = Math.max(0, Math.floor(score));

    speed = 1.2 + Math.min(3, distance/2800);
  }

  function loop() {
    if (!running) return;
    const nowt = performance.now();
    const dt = nowt - lastTime;
    lastTime = nowt;
    update(dt);
    requestAnimationFrame(loop);
  }

  function startGame() {
    if (running) return;
    running = true;
    score = 0; distance = 0;
    objs.forEach(o=>{ try{ o.el.remove(); }catch{} }); objs = [];
    lastTime = performance.now();
    spawnTimer = setInterval(()=>{ if (objs.length < 8) spawnObject(); }, 720);
    loop();
    startBtn.textContent = 'Playing‚Ä¶';
  }

  function endGame() {
    running = false;
    clearInterval(spawnTimer);
    spawnTimer = null;
    startBtn.textContent = 'Start';
    setTimeout(()=> alert('üö® Game Over! Score: ' + Math.floor(score)), 50);
  }

  function resetGame() {
    running = false;
    clearInterval(spawnTimer);
    spawnTimer = null;
    objs.forEach(o=>{ try{ o.el.remove(); }catch{} }); objs = [];
    score = 0; distance = 0; scoreEl.textContent = '0'; startBtn.textContent = 'Start';
  }

  // keyboard controls
  window.addEventListener('keydown', (e)=>{
    if (!running) return;
    if (e.key === 'ArrowLeft' || e.key === 'a') { laneIndex = Math.max(0, laneIndex-1); placePlayer(); }
    if (e.key === 'ArrowRight' || e.key === 'd') { laneIndex = Math.min(2, laneIndex+1); placePlayer(); }
  });

  // touch swipe
  let touchStartX = null;
  let touchStartY = null;
  const runnerArea = document.getElementById('runnerArea');
  runnerArea.addEventListener('touchstart', (e)=>{
    if (!e.touches || e.touches.length === 0) return;
    touchStartX = e.touches[0].clientX;
    touchStartY = e.touches[0].clientY;
  }, {passive:true});
  runnerArea.addEventListener('touchend', (e)=>{
    if (touchStartX === null) return;
    const dx = (e.changedTouches[0].clientX - touchStartX);
    const dy = (e.changedTouches[0].clientY - touchStartY);
    if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > 30) {
      if (dx > 0) laneIndex = Math.min(2, laneIndex+1);
      else laneIndex = Math.max(0, laneIndex-1);
      placePlayer();
    }
    touchStartX = null; touchStartY = null;
  }, {passive:true});

  startBtn.addEventListener('click', ()=>{ if (!running) startGame(); else endGame(); });
  resetBtn.addEventListener('click', resetGame);

  // small demo spawn to show visuals before starting
  setTimeout(()=>{ spawnObject(); spawnObject(); }, 400);
</script>
</body>
</html>